"use strict";(self.webpackChunkapi_docs_generator=self.webpackChunkapi_docs_generator||[]).push([[940],{2701:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"tech/sdk","title":"SDK","description":"This is a work-in-progress","source":"@site/docs/tech/sdk.md","sourceDirName":"tech","slug":"/tech/sdk","permalink":"/docs/tech/sdk","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Ramp Aggregator","permalink":"/docs/tech/aggregator"},"next":{"title":"Web Integration","permalink":"/docs/tech/web"}}');var r=t(4848),o=t(8453);const a={},i="SDK",d={},l=[{value:"Flow Diagram",id:"flow-diagram",level:2},{value:"Usage of SDK",id:"usage-of-sdk",level:2},{value:"Example",id:"example",level:2},{value:"List of supported countries and payment methods",id:"list-of-supported-countries-and-payment-methods",level:3}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"sdk",children:"SDK"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"This is a work-in-progress"})}),"\n",(0,r.jsx)(n.h2,{id:"flow-diagram",children:"Flow Diagram"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://www.figma.com/design/dw4ygEpoyyVBCn27ZH7XvP/Harbour-Wallet-Integration?node-id=0-1&t=cMGSCUtJcd5rVOMk-0",children:"https://www.figma.com/design/dw4ygEpoyyVBCn27ZH7XvP/Harbour-Wallet-Integration?node-id=0-1&t=cMGSCUtJcd5rVOMk-0"})}),"\n",(0,r.jsx)(n.h2,{id:"usage-of-sdk",children:"Usage of SDK"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Copy ",(0,r.jsx)(n.code,{children:"src/index.ts"})," and ",(0,r.jsx)(n.code,{children:"src/gen/**"})," into your project"]}),"\n",(0,r.jsxs)(n.li,{children:["Look into example of usage below or, for more sophisticated examples, in the ",(0,r.jsx)(n.code,{children:"examples/"})," folder"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Dev API: ",(0,r.jsx)(n.a,{href:"https://dev-api.harborapps-nonprod.link",children:"https://dev-api.harborapps-nonprod.link"}),"\nProd API: ",(0,r.jsx)(n.a,{href:"https://api.harborapp.link",children:"https://api.harborapp.link"})]}),"\n",(0,r.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,r.jsx)(n.p,{children:"Example of SDK initialization and usage"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-Typscript",children:"import {Wallet} from 'ethers';\nimport crypto from 'crypto';\n\nimport RampCLient, { EthereumSignature, Signature } from '.'\nimport {GetAccountInfoRequest, Ecosystem, SignatureType, WhitelistAddressRequest} from \"./gen/ramp/v1/public_pb\";\n\nconst privateKey = \"0x\"+crypto.randomBytes(32).toString('hex');\nconst wallet = new Wallet(privateKey);\n\nconst signPayload = (payload: string): string => {\n    const hashed = keccak256(toUtf8Bytes(payload));\n    const sig = wallet.signingKey.sign(hashed).serialized;\n    return sig;\n}\n\nconst ramp = new RampCLient(\n  \"https://dev-api.harborapps-nonprod.link\",\n  (payload): Promise<Signature> => {\n    const sig = signPayload(payload);\n    return Promise.resolve({\n      signature: sig,\n      publicKey: wallet.signingKey.publicKey,\n      ...EthereumSignature,\n    });\n  },\n)\n\n// Get general account info and list of whitelisted wallets \nconst accountInfo = await ramp.getAccountInfo(new GetAccountInfoRequest())\n\n// Get supported assets and blockchains\nconst assetsResponse = ramp.getAssets(new GetAssetsRequest({fiatAssetId: CurrencyId.EUR}));\n\n// Get whitelisted wallets. On and Off ramp can be done only to and from whitelisted wallets \nawait ramp.whitelistAddress(\n  new WhitelistAddressRequest({\n    protocol: Protocol.ETHEREUM,\n    address: wallet.address,\n    publicKey: wallet.signingKey.compressedPublicKey,\n    name: \"My Wallet 1\",\n    addressSignature: await wallet.signMessage(wallet.address),\n  }),\n);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"list-of-supported-countries-and-payment-methods",children:"List of supported countries and payment methods"}),"\n",(0,r.jsxs)(n.p,{children:["List of supported countries can be found ",(0,r.jsx)(n.a,{href:"/docs/countries-payments",children:"here"})]})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>i});var s=t(6540);const r={},o=s.createContext(r);function a(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);