"use strict";(self.webpackChunkapi_docs_generator=self.webpackChunkapi_docs_generator||[]).push([[831],{5159:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"authentication","title":"Web3 Authentication","description":"A special feature of Harbour\u2019s APIs for Crypto Wallets and dApps is the ability to recognise digital signatures from a","source":"@site/docs/authentication.md","sourceDirName":".","slug":"/authentication","permalink":"/docs/authentication","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Fees and Conversion Rates","permalink":"/docs/fees"},"next":{"title":"Supported Assets","permalink":"/docs/assets"}}');var i=n(4848),a=n(8453);const o={},r="Web3 Authentication",h={},c=[{value:"Message Signing",id:"message-signing",level:2},{value:"Session Token",id:"session-token",level:2}];function l(e){const t={a:"a",h1:"h1",h2:"h2",header:"header",p:"p",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"web3-authentication",children:"Web3 Authentication"})}),"\n",(0,i.jsx)(t.p,{children:"A special feature of Harbour\u2019s APIs for Crypto Wallets and dApps is the ability to recognise digital signatures from a\ncustomer\u2019s wallet. For each wallet a Customer interacts from, we map the public key to the customer in our database.\nThis way, a returning Customer will never have to go through a login step or remember a password."}),"\n",(0,i.jsxs)(t.p,{children:["The only instance in which a login is still required is when a Customer comes from a new wallet (new seed), in which\ncase they\u2019ll briefly confirm their identity by an SMS OTP and a security question. Similar to the\n",(0,i.jsx)(t.a,{href:"/docs/onboarding",children:"Onboarding Process"}),", the authentication process for a new wallet is handled entirely by Harbour and\nrequires no integration work except for iframe embedding or web redirect."]}),"\n",(0,i.jsx)(t.p,{children:"In the Harbour API, there's two ways a user can authenticate themselves through their public key.\nEither by having the client app sign every message, suitable for apps that have immediate access to the key and signing\nfunctionality, or by having the client app sign a special authentication message, suitable for other use cases such as\ndApps, which will prompt the user's wallet to sign the message and then obtain a session token."}),"\n",(0,i.jsx)(t.p,{children:"More details below."}),"\n",(0,i.jsx)(t.h2,{id:"message-signing",children:"Message Signing"}),"\n",(0,i.jsx)(t.p,{children:"This method is most suited for crypto wallets that would like to embed Harbour in their own UI. They can simply derive\na key deterministically from the HD wallet and sign each message with it. Harbour supports several different digital\nsignature algorithms, so that each wallet can use cryptographic primitives that are native to their ecosystem, such as\nsigning a keccak256 digest with a secp256k1 key on EVM chains."}),"\n",(0,i.jsx)(t.p,{children:"In this configuration, every API request will contain special headers specifying the signature type and the signature\nof the request body."}),"\n",(0,i.jsx)(t.p,{children:'With this method, each API interaction will be considered an "authenticated wallet" from Harbour\'s point of view, which\nmight or might not yet be associated with an "authenticated customer".'}),"\n",(0,i.jsx)(t.h2,{id:"session-token",children:"Session Token"}),"\n",(0,i.jsxs)(t.p,{children:["This is better suited for web or mobile applications that do not have control over the user's keys. In this case, the\nweb3 SDKs can be used to prompt a user's wallet to sign a custom authentication message, such as\n'harbour-auth",":timestamp","'. The signed message is then sent to Harbour's API, which verifies the signature and returns\na session token. Any subsequent API interaction can include this token, which has a limited lifetime."]}),"\n",(0,i.jsx)(t.p,{children:'The session token will be considered an "authenticated wallet" from Harbour\'s point of view, the exact same as with the\nabove-mentioned message signing method.'})]})}function u(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>r});var s=n(6540);const i={},a=s.createContext(i);function o(e){const t=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(a.Provider,{value:t},e.children)}}}]);