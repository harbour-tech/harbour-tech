<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-authentication" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.1">
<title data-rh="true">Authentication and Onboarding | Harbour Developer Portal</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://harbour-tech.github.io/docs/authentication"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Authentication and Onboarding | Harbour Developer Portal"><meta data-rh="true" name="description" content="The Harbour API authenticates users via their crypto wallet. It supports different authentication methods depending on"><meta data-rh="true" property="og:description" content="The Harbour API authenticates users via their crypto wallet. It supports different authentication methods depending on"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://harbour-tech.github.io/docs/authentication"><link data-rh="true" rel="alternate" href="https://harbour-tech.github.io/docs/authentication" hreflang="en"><link data-rh="true" rel="alternate" href="https://harbour-tech.github.io/docs/authentication" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.45e8fbb1.css">
<script src="/assets/js/runtime~main.a409c849.js" defer="defer"></script>
<script src="/assets/js/main.1ad93e21.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Home</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Documentation</a></div><div class="navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/concepts">API Concepts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/authentication">Authentication and Onboarding</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/use-cases">Use Cases</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/countries-payments">Countries and Payments</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/assets">Supported Assets</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/tech/overview">Integration Guides</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Authentication and Onboarding</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Authentication and Onboarding</h1></header>
<p>The Harbour API authenticates users via their crypto wallet. It supports different authentication methods depending on
the use case, such as signing each individual message or obtaining a session token.</p>
<p>Authentication is required for most operations, however some endpoints are public and do not require authentication,
such as retrieving supported assets and price quotes.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="message-signing">Message Signing<a href="#message-signing" class="hash-link" aria-label="Direct link to Message Signing" title="Direct link to Message Signing">​</a></h2>
<p>This method is most suited for crypto wallets that would like to embed Harbour in their own UI. They can simply derive
a key deterministically from the HD wallet and sign each message with it. Harbour supports several different digital
signature algorithms, so that each wallet can use cryptographic primitives that are native to their ecosystem, such as
signing a keccak256 digest with a secp256k1 key on EVM chains.</p>
<p>In this configuration, every API request will contain special headers specifying the signature type and the signature
of the request body.</p>
<p>With this method, each API interaction will be considered an &quot;authenticated wallet&quot; from Harbour&#x27;s point of view.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="session-token">Session Token<a href="#session-token" class="hash-link" aria-label="Direct link to Session Token" title="Direct link to Session Token">​</a></h2>
<p>This is better suited for web or mobile applications that do not have control over the user&#x27;s keys. In this case, the
web3 SDKs can be used to prompt a user&#x27;s wallet to sign a custom authentication message, such as
&#x27;harbour-auth<!-- -->:timestamp<!-- -->&#x27;. The signed message is then sent to Harbour&#x27;s API, which verifies the signature and returns
a session token. Any subsequent API interaction can include this token, which has a limited lifetime.</p>
<p>The session token will be considered an &quot;authenticated wallet&quot; from Harbour&#x27;s point of view, the exact same as with the
above-mentioned message signing method.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="user-authentication">User Authentication<a href="#user-authentication" class="hash-link" aria-label="Direct link to User Authentication" title="Direct link to User Authentication">​</a></h2>
<p>Harbour keeps track of all authenticated wallets. Initially, each wallet will be considered an anonymous user.
In that case, the Harbour Auth API will return a redirect URL. The integrating app will either redirect or embed an
iframe with this URL, where the user will be prompted to either sign up or sign in. The user&#x27;s phone number will be used
to determine whether they are an existing customer or not.</p>
<p>User sign in consists in simply re-verifying the phone number via OTP and asking a security question.
User sign up consists in a Fintech-grade onboarding flow (see paragraph below).</p>
<p>Once sign up or sign in is successful, the wallet&#x27;s public key is associated with a Harbour customer, and any future
interaction from that authenticated wallet will require no further authentication, offering a true web3 native,
password-less, crypto-wallet-driven experience.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="customer-onboarding">Customer Onboarding<a href="#customer-onboarding" class="hash-link" aria-label="Direct link to Customer Onboarding" title="Direct link to Customer Onboarding">​</a></h2>
<p>All KYC and KYB Checks are handled by Harbour, so the integrating app does not need to worry about building or
maintaining KYC/KYB user-journeys, policies or procedures yourself.</p>
<p>For new users, the Authentication API will return a redirect URL, so that the integrating app can either redirect or
embed an iframe with Harbour’s onboarding journey. The user is then taken through an identity verification process where
they will submit their personal details, identity information, government-issued ID and a selfie directly to Harbour for
verification.</p>
<p>As part of the onboarding journey Customers are asked to agree to Harbour’s account terms and conditions and privacy
policy directly. Customer’s access to Harbour’s products and services is automatically granted upon completion of the
onboarding KYC/KYB process.</p>
<p>Harbour will communicate directly with Customers if any additional information is needed during the onboarding process.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/concepts"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">API Concepts</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/use-cases"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Use Cases</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#message-signing" class="table-of-contents__link toc-highlight">Message Signing</a></li><li><a href="#session-token" class="table-of-contents__link toc-highlight">Session Token</a></li><li><a href="#user-authentication" class="table-of-contents__link toc-highlight">User Authentication</a></li><li><a href="#customer-onboarding" class="table-of-contents__link toc-highlight">Customer Onboarding</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Useful links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.harbour.fi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Harbour Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/harbour-tech/harbour-ts-sdk" target="_blank" rel="noopener noreferrer" class="footer__link-item">Harbour SDK<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Web apps</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://snap.harbour.fi" target="_blank" rel="noopener noreferrer" class="footer__link-item">MetaMask Snap<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ramp.harbour.fi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Magic Ramp<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Socials</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://x.com/harbour_fi" target="_blank" rel="noopener noreferrer" class="footer__link-item">X (Twitter)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></footer></div>
</body>
</html>